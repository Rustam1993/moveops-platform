// Code generated by oapi-codegen. DO NOT EDIT.

package oapi

import (
	"net/http"

	"github.com/go-chi/chi/v5"
)

type ServerInterface interface {
	GetHealth(w http.ResponseWriter, r *http.Request)
	PostAuthLogin(w http.ResponseWriter, r *http.Request)
	PostAuthLogout(w http.ResponseWriter, r *http.Request)
	GetAuthMe(w http.ResponseWriter, r *http.Request)
	GetAuthCsrf(w http.ResponseWriter, r *http.Request)
	PostCustomers(w http.ResponseWriter, r *http.Request)
	GetCustomersCustomerId(w http.ResponseWriter, r *http.Request, customerId string)
}

type ChiServerOptions struct {
	BaseURL     string
	BaseRouter  chi.Router
	Middlewares []func(http.Handler) http.Handler
}

func HandlerWithOptions(si ServerInterface, options ChiServerOptions) http.Handler {
	r := options.BaseRouter
	if r == nil {
		r = chi.NewRouter()
	}

	r.Group(func(api chi.Router) {
		for _, mw := range options.Middlewares {
			api.Use(mw)
		}
		api.Get(options.BaseURL+"/health", si.GetHealth)
		api.Post(options.BaseURL+"/auth/login", si.PostAuthLogin)
		api.Post(options.BaseURL+"/auth/logout", si.PostAuthLogout)
		api.Get(options.BaseURL+"/auth/me", si.GetAuthMe)
		api.Get(options.BaseURL+"/auth/csrf", si.GetAuthCsrf)
		api.Post(options.BaseURL+"/customers", si.PostCustomers)
		api.Get(options.BaseURL+"/customers/{customerId}", func(w http.ResponseWriter, req *http.Request) {
			si.GetCustomersCustomerId(w, req, chi.URLParam(req, "customerId"))
		})
	})

	return r
}
